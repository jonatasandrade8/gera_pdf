<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gerador de Recibos Profissional (v3.0)</title>
    
    <link rel="stylesheet" href="style.css">
    
    <link rel="icon" type="image/x-icon" href="data:," /> 

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.2/jspdf-autotable.umd.js"></script>
    
</head>
<body>
    
    <div class="container">
        <div class="header">
            <h1>üìÑ Gerador de Recibos</h1>
            <p>Crie recibos profissionais em PDF com gera√ß√£o program√°tica (jsPDF)</p>
        </div>

        <div class="content">
            <div class="form-section">
                <h2>Informa√ß√µes do Recibo</h2>

                <fieldset class="section-group">
                    <legend class="section-title">üë§ Recebedor (Prestador de Servi√ßo)</legend>
                    
                    <div class="type-selector">
                        <button class="type-btn active" onclick="setRecebedorType('pf')" id="btn-recebedor-pf">Pessoa F√≠sica</button>
                        <button class="type-btn" onclick="setRecebedorType('pj')" id="btn-recebedor-pj">Pessoa Jur√≠dica</button>
                    </div>

                    <div class="form-group">
                        <label id="label-recebedor-nome">Nome Completo *</label>
                        <input type="text" id="recebedor-nome" placeholder="Ex: Jo√£o da Silva" oninput="atualizarPrevia()">
                    </div>

                    <div class="row">
                        <div class="form-group">
                            <label id="label-recebedor-doc">CPF *</label>
                            <input type="text" id="recebedor-doc" placeholder="000.000.000-00" maxlength="18" oninput="formatarDocumento(this)" onblur="buscarCNPJ('recebedor')">
                        </div>
                        <div class="form-group">
                            <label>Telefone *</label>
                            <input type="tel" id="recebedor-tel" placeholder="(00) 00000-0000" maxlength="15" oninput="formatarTelefone(this); atualizarPrevia()">
                        </div>
                    </div>

                    <div class="form-group">
                        <label>CEP *</label>
                        <input type="text" id="recebedor-cep" placeholder="00000-000" maxlength="9" oninput="formatarCEP(this)" onblur="buscarCEP('recebedor')">
                    </div>

                    <div class="row">
                        <div class="form-group">
                            <label>Rua *</label>
                            <input type="text" id="recebedor-rua" placeholder="Endere√ßo" oninput="atualizarPrevia()">
                        </div>
                        <div class="form-group">
                            <label>N√∫mero *</label>
                            <input type="text" id="recebedor-num" placeholder="0000" oninput="atualizarPrevia()">
                        </div>
                    </div>

                    <div class="row full">
                        <div class="form-group">
                            <label>Complemento</label>
                            <input type="text" id="recebedor-comp" placeholder="Apt, sala, etc" oninput="atualizarPrevia()">
                        </div>
                    </div>

                    <div class="row">
                        <div class="form-group">
                            <label>Cidade *</label>
                            <input type="text" id="recebedor-cidade" placeholder="Cidade" oninput="atualizarPrevia()">
                        </div>
                        <div class="form-group">
                            <label>UF *</label>
                            <input type="text" id="recebedor-uf" placeholder="SP" maxlength="2" oninput="atualizarPrevia()">
                        </div>
                    </div>
                </fieldset>

                <fieldset class="section-group">
                    <legend class="section-title">üí∞ Pagador (Cliente)</legend>

                    <div class="type-selector">
                        <button class="type-btn active" onclick="setPagadorType('pf')" id="btn-pagador-pf">Pessoa F√≠sica</button>
                        <button class="type-btn" onclick="setPagadorType('pj')" id="btn-pagador-pj">Pessoa Jur√≠dica</button>
                    </div>

                    <div class="form-group">
                        <label id="label-pagador-nome">Nome Completo</label>
                        <input type="text" id="pagador-nome" placeholder="Ex: Maria da Silva" oninput="atualizarPrevia()">
                    </div>

                    <div class="row">
                        <div class="form-group">
                            <label id="label-pagador-doc">CPF</label>
                            <input type="text" id="pagador-doc" placeholder="000.000.000-00" maxlength="18" oninput="formatarDocumento(this)" onblur="buscarCNPJ('pagador')">
                        </div>
                        <div class="form-group">
                            <label>Telefone</label>
                            <input type="tel" id="pagador-tel" placeholder="(00) 00000-0000" maxlength="15" oninput="formatarTelefone(this); atualizarPrevia()">
                        </div>
                    </div>

                    <div class="form-group">
                        <label>CEP</label>
                        <input type="text" id="pagador-cep" placeholder="00000-000" maxlength="9" oninput="formatarCEP(this)" onblur="buscarCEP('pagador')">
                    </div>

                    <div class="row">
                        <div class="form-group">
                            <label>Rua</label>
                            <input type="text" id="pagador-rua" placeholder="Endere√ßo" oninput="atualizarPrevia()">
                        </div>
                        <div class="form-group">
                            <label>N√∫mero</label>
                            <input type="text" id="pagador-num" placeholder="0000" oninput="atualizarPrevia()">
                        </div>
                    </div>

                    <div class="row full">
                        <div class="form-group">
                            <label>Complemento</label>
                            <input type="text" id="pagador-comp" placeholder="Apt, sala, etc" oninput="atualizarPrevia()">
                        </div>
                    </div>

                    <div class="row">
                        <div class="form-group">
                            <label>Cidade</label>
                            <input type="text" id="pagador-cidade" placeholder="Cidade" oninput="atualizarPrevia()">
                        </div>
                        <div class="form-group">
                            <label>UF</label>
                            <input type="text" id="pagador-uf" placeholder="SP" maxlength="2" oninput="atualizarPrevia()">
                        </div>
                    </div>
                </fieldset>

                <fieldset class="section-group">
                    <legend class="section-title">üõçÔ∏è Produtos/Servi√ßos</legend>

                    <div class="services-list" id="services-list">
                        <p style="color: #999; text-align: center; padding: 20px;">Nenhum produto/servi√ßo adicionado</p>
                    </div>

                    <button class="btn btn-primary" onclick="adicionarServico()">+ Adicionar Produto/Servi√ßo</button>
                </fieldset>

                <fieldset class="section-group">
                    <legend class="section-title">üìÖ Data/Per√≠odo da Presta√ß√£o de Servi√ßo</legend>

                    <div class="row full">
                        <div class="form-group">
                            <label>Tipo de Per√≠odo *</label>
                            <select id="periodo-tipo" onchange="atualizarPrevia()">
                                <option value="dia">Por Dia(s)</option>
                                <option value="mes">Por M√™s(es)</option>
                                <option value="ano">Por Ano(s)</option>
                            </select>
                        </div>
                    </div>

                    <div class="row">
                        <div class="form-group">
                            <label id="label-periodo-inicio">Data de In√≠cio *</label>
                            <input type="date" id="periodo-inicio" oninput="atualizarPrevia()">
                        </div>
                        <div class="form-group">
                            <label id="label-periodo-fim">Data de T√©rmino *</label>
                            <input type="date" id="periodo-fim" oninput="atualizarPrevia()">
                        </div>
                    </div>
                </fieldset>

                <div class="total-box">
                    <div>Total do Recibo</div>
                    <div class="total-amount" id="total-amount">R$ 0,00</div>
                </div>

                <button class="btn btn-secondary" onclick="gerarPDF()">üì• Gerar PDF Profissional</button>

                <fieldset class="section-group">
                    <legend class="section-title">üíæ Gerenciamento de Recibos</legend>
                    <button class="btn btn-primary" onclick="salvarRecibo()" style="background-color: #e67e22;">Salvar Modelo Atual</button>
                    <div class="saved-receipts-list" id="lista-recibos-salvos">
                        <p style="color: #999; text-align: center; padding: 10px;">Nenhum recibo salvo.</p>
                    </div>
                </fieldset>

            </div>

            <div class="form-section">
                <h2>Pr√©via do Recibo</h2>
                <div class="document-preview" id="preview"></div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>